<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Model: Sherman Morrison Variant (recursiveRouteChoice.recursive_logit_efficient_update) &mdash; RecursiveRouteChoice 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Model: Main Recursive Logit Implementation (recursiveRouteChoice.recursive_route_choice)" href="recursiveRouteChoice.recursive_route_choice.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            RecursiveRouteChoice
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction &amp; Overview:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../source/introduction_install.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/introduction_install.html#installation">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/simple_example.html">3. A Simple Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/involved_example.html">4. Sioux Falls Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/data_formats.html">5. Data Format Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="recursiveRouteChoice.html">recursiveRouteChoice package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="recursiveRouteChoice.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="recursiveRouteChoice.optimisers.html">Optimisers Submodule: Main use case</a></li>
<li class="toctree-l3"><a class="reference internal" href="recursiveRouteChoice.optimisers.html#optimisers-submodule-other-files-with-minimal-public-api">Optimisers Submodule: Other files with minimal public API</a></li>
<li class="toctree-l3"><a class="reference internal" href="recursiveRouteChoice.data_loading.html">Data Loading: (recursiveRouteChoice.data_loading)</a></li>
<li class="toctree-l3"><a class="reference internal" href="recursiveRouteChoice.data_processing.html">Data Preprocessing: (recursiveRouteChoice.data_processing)</a></li>
<li class="toctree-l3"><a class="reference internal" href="recursiveRouteChoice.recursive_route_choice.html">Model: Main Recursive Logit Implementation (recursiveRouteChoice.recursive_route_choice)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Model: Sherman Morrison Variant (recursiveRouteChoice.recursive_logit_efficient_update)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#recursiveRouteChoice.recursive_logit_efficient_update.DenseLUObj"><code class="docutils literal notranslate"><span class="pre">DenseLUObj</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelEstimationSM"><code class="docutils literal notranslate"><span class="pre">RecursiveLogitModelEstimationSM</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelPredictionSM"><code class="docutils literal notranslate"><span class="pre">RecursiveLogitModelPredictionSM</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">RecursiveRouteChoice</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="recursiveRouteChoice.html">recursiveRouteChoice package</a></li>
      <li class="breadcrumb-item active">Model: Sherman Morrison Variant (recursiveRouteChoice.recursive_logit_efficient_update)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/apisource/recursiveRouteChoice.recursive_logit_efficient_update.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="model-sherman-morrison-variant-recursiveroutechoice-recursive-logit-efficient-update">
<h1>Model: Sherman Morrison Variant (recursiveRouteChoice.recursive_logit_efficient_update)<a class="headerlink" href="#model-sherman-morrison-variant-recursiveroutechoice-recursive-logit-efficient-update" title="Permalink to this heading"></a></h1>
<p>Separate prediction and estimation classes using the more efficient recursive logit model variant.</p>
<span class="target" id="module-recursiveRouteChoice.recursive_logit_efficient_update"></span><p>Very similar to the recursive logit in recursive_route_choice.py
Instead using the sherman morrison update formula to save a substantial number of
matrix inverse calculations.</p>
<p>Note that empirical tests suggest forming the matrix inverse explicitly is much faster,
but may be less numericall stable (relative to LU). In either case these are likely dense if
A is sparse, so Krylov subspace methods may have to be used for large instances</p>
<dl class="py class">
<dt class="sig sig-object py" id="recursiveRouteChoice.recursive_logit_efficient_update.DenseLUObj">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">recursiveRouteChoice.recursive_logit_efficient_update.</span></span><span class="sig-name descname"><span class="pre">DenseLUObj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#recursiveRouteChoice.recursive_logit_efficient_update.DenseLUObj" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Wrapper class around lu_factor and lu_solve to allow consistent api usage between scipy
dense and SuperLU sparse decomps - i.e having a solve method</p>
<dl class="py method">
<dt class="sig sig-object py" id="recursiveRouteChoice.recursive_logit_efficient_update.DenseLUObj.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#recursiveRouteChoice.recursive_logit_efficient_update.DenseLUObj.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recursiveRouteChoice.recursive_logit_efficient_update.DenseLUObj.solve">
<span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite_b</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_finite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#recursiveRouteChoice.recursive_logit_efficient_update.DenseLUObj.solve" title="Permalink to this definition"></a></dt>
<dd><p>Solves Ax=b via back substitution, where A is the matrix the class was initialised
with. For options documentation see scipy.linalg.lu_solve</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelEstimationSM">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">recursiveRouteChoice.recursive_logit_efficient_update.</span></span><span class="sig-name descname"><span class="pre">RecursiveLogitModelEstimationSM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_struct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="recursiveRouteChoice.recursive_route_choice.html#recursiveRouteChoice.recursive_route_choice.ModelDataStruct" title="recursiveRouteChoice.recursive_route_choice.ModelDataStruct"><span class="pre">ModelDataStruct</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimiser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="recursiveRouteChoice.optimisers.html#recursiveRouteChoice.optimisers.optimisers_file.OptimiserBase" title="recursiveRouteChoice.optimisers.optimisers_file.OptimiserBase"><span class="pre">OptimiserBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">observations_record</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_obs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelEstimationSM" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="recursiveRouteChoice.recursive_route_choice.html#recursiveRouteChoice.recursive_route_choice.RecursiveLogitModelEstimation" title="recursiveRouteChoice.recursive_route_choice.RecursiveLogitModelEstimation"><code class="xref py py-class docutils literal notranslate"><span class="pre">RecursiveLogitModelEstimation</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelEstimationSM.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_struct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="recursiveRouteChoice.recursive_route_choice.html#recursiveRouteChoice.recursive_route_choice.ModelDataStruct" title="recursiveRouteChoice.recursive_route_choice.ModelDataStruct"><span class="pre">ModelDataStruct</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">optimiser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="recursiveRouteChoice.optimisers.html#recursiveRouteChoice.optimisers.optimisers_file.OptimiserBase" title="recursiveRouteChoice.optimisers.optimisers_file.OptimiserBase"><span class="pre">OptimiserBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">observations_record</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_obs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelEstimationSM.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initialise recursive logit model for estimation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_struct</strong> (<a class="reference internal" href="recursiveRouteChoice.recursive_route_choice.html#recursiveRouteChoice.recursive_route_choice.ModelDataStruct" title="recursiveRouteChoice.recursive_route_choice.ModelDataStruct"><em>ModelDataStruct</em></a>) – containing network attributes of desired network</p></li>
<li><p><strong>optimiser</strong> (<a class="reference internal" href="recursiveRouteChoice.optimisers.html#recursiveRouteChoice.optimisers.optimisers_file.ScipyOptimiser" title="recursiveRouteChoice.optimisers.optimisers_file.ScipyOptimiser"><em>ScipyOptimiser</em></a><em> or </em><a class="reference internal" href="recursiveRouteChoice.optimisers.html#recursiveRouteChoice.optimisers.optimisers_file.LineSearchOptimiser" title="recursiveRouteChoice.optimisers.optimisers_file.LineSearchOptimiser"><em>LineSearchOptimiser</em></a>) – The wrapper instance for the desired optimisation routine</p></li>
<li><p><strong>observations_record</strong> (ak.highlighlevel.Array or <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.spmatrix.html#scipy.sparse.spmatrix" title="(in SciPy v1.13.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.spmatrix</span></code></a>) – <p>or list of list</p>
<p>record of observations to estimate from</p>
</p></li>
<li><p><strong>initial_beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a><em> or </em><em>array like</em>) – initial guessed values of beta to begin optimisation algorithm with. If a scalar,
beta are uniformly initialised to this value</p></li>
<li><p><strong>mu</strong> – The scale parameter of the Gumbel random variables being modelled. Generally set
equal to 1 as it is non-identifiable due to the uncertainty in the parameter weights.</p></li>
<li><p><strong>sort_obs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – flag to sort input observations to allow for efficient caching. Should only be set to
False if the data is large and already known to be sorted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelEstimationSM.compute_value_function">
<span class="sig-name descname"><span class="pre">compute_value_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m_tilde</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_is_sparse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelEstimationSM.compute_value_function" title="Permalink to this definition"></a></dt>
<dd><p>Solves the linear system <span class="math notranslate nohighlight">\(z = Mz+b\)</span> and stores the output for future use.
Returns a boolean indicating if solving the linear system was successful or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m_tilde</strong> (<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.13.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a>) – The matrix M modified to reflect the current location of the sink destination state.</p></li>
<li><p><strong>data_is_sparse</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – flag to indicate if the data - in this case m_tilde is sparse. If supplied, we don’t
need to check this manually.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>error_flag</strong> – Returns True if an error was encountered, else false if execution finished
successfully. Errors are due to the linear system having no solution, high residual
or having negative solution, such that the value functions have no real solution.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelEstimationSM.update_base_matrix_system">
<span class="sig-name descname"><span class="pre">update_base_matrix_system</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelEstimationSM.update_base_matrix_system" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelEstimationSM.update_beta_vec">
<span class="sig-name descname"><span class="pre">update_beta_vec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_beta_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelEstimationSM.update_beta_vec" title="Permalink to this definition"></a></dt>
<dd><p>Update the interval value for the network parameters beta with the supplied value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>new_beta_vec</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.array.html#numpy.array" title="(in NumPy v1.26)"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.array()</span></code></a> of float) – </p></li>
<li><p><strong>from_init</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – flag used in subclasses to avoid messy dependence sequencing issues</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>error_flag</strong> – Returns a boolean flag to indicate if updating beta was successful. This fails for an
ill chosen beta which either is positive and illegal, or is large in magnitude such
that the short term utility calculation overflows.</p>
<p>This flag is likely not used by an end user, only the internal code</p>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)">bool</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelPredictionSM">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">recursiveRouteChoice.recursive_logit_efficient_update.</span></span><span class="sig-name descname"><span class="pre">RecursiveLogitModelPredictionSM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_struct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="recursiveRouteChoice.recursive_route_choice.html#recursiveRouteChoice.recursive_route_choice.ModelDataStruct" title="recursiveRouteChoice.recursive_route_choice.ModelDataStruct"><span class="pre">ModelDataStruct</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelPredictionSM" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="recursiveRouteChoice.recursive_route_choice.html#recursiveRouteChoice.recursive_route_choice.RecursiveLogitModelPrediction" title="recursiveRouteChoice.recursive_route_choice.RecursiveLogitModelPrediction"><code class="xref py py-class docutils literal notranslate"><span class="pre">RecursiveLogitModelPrediction</span></code></a></p>
<p>This class is a bit messy because theres a bit of an inheritance problem.
A potential fix is to roll the two Prediction and Estimation classes together,
but we might want to have them in separate instances.
Totally could have this and methods in common subclass of RecursiveLogitModel,
but currently don’t have time to look at MRO to get the subclasses for prediction and
estimation behaving.</p>
<dl class="py method">
<dt class="sig sig-object py" id="recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelPredictionSM.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_struct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="recursiveRouteChoice.recursive_route_choice.html#recursiveRouteChoice.recursive_route_choice.ModelDataStruct" title="recursiveRouteChoice.recursive_route_choice.ModelDataStruct"><span class="pre">ModelDataStruct</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelPredictionSM.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initialises a RecursiveLogitModel instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_struct</strong> (<a class="reference internal" href="recursiveRouteChoice.recursive_route_choice.html#recursiveRouteChoice.recursive_route_choice.ModelDataStruct" title="recursiveRouteChoice.recursive_route_choice.ModelDataStruct"><em>ModelDataStruct</em></a>) – The ModelDataStruct corresponding to the network being estimated on</p></li>
<li><p><strong>initial_beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>] or </em><em>array_like</em>) – The initial value for the parameter weights of the network attributes</p></li>
<li><p><strong>mu</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – The scale parameter of the Gumbel random variables being modelled. Generally set
equal to 1 as it is non-identifiable due to the uncertainty in the parameter weights.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelPredictionSM.update_base_matrix_system">
<span class="sig-name descname"><span class="pre">update_base_matrix_system</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#recursiveRouteChoice.recursive_logit_efficient_update.RecursiveLogitModelPredictionSM.update_base_matrix_system" title="Permalink to this definition"></a></dt>
<dd><p>Copy of method from Estimation. Should be implemented in a common parent, or as an
interface/ subclass, rather than duplication</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="recursiveRouteChoice.recursive_route_choice.html" class="btn btn-neutral float-left" title="Model: Main Recursive Logit Implementation (recursiveRouteChoice.recursive_route_choice)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Matthew Richards.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>